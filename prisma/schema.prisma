generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Teacher {
  id         String      @id @default(uuid())
  fullName   String
  email      String      @unique
  password   String
  role       Role
  image      String      @default("https://static.vecteezy.com/system/resources/thumbnails/020/765/399/small_2x/default-profile-account-unknown-icon-black-silhouette-free-vector.jpg")
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
  classrooms Classroom[]
}

model Classroom {
  id          String    @id @default(uuid())
  code        String    @unique
  className   String
  subjectName String?
  sectionName String?
  teacherId   String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  image       String    @default("https://png.pngtree.com/background/20210709/original/pngtree-cartoon-yellow-background-school-season-campus-poster-picture-image_925356.jpg")
  Teacher     Teacher   @relation(fields: [teacherId], references: [id])
  students    Student[] @relation("StudentClassrooms")

  @@unique([className, teacherId], name: "className_teacherId")
}

model Student {
  id         String      @id @default(uuid())
  email      String      @unique
  password   String
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
  fullName   String
  image      String      @default("https://static.vecteezy.com/system/resources/thumbnails/020/765/399/small_2x/default-profile-account-unknown-icon-black-silhouette-free-vector.jpg")
  role       Role
  classrooms Classroom[] @relation("StudentClassrooms")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model questionpaper {
  id            BigInt   @id @default(autoincrement())
  created_at    DateTime @default(now()) @db.Timestamptz(6)
  Question      String?
  Option1       String?
  Option2       String?
  Option3       String?
  Option4       String?
  CorrectAnswer String?
  Difficulty    String?
  Subject       String?
}

enum Role {
  teacher
  student
}
